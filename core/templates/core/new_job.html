{% extends "core/base.html" %}

{% load i18n %}

{% block content %}

<div class="page-bar">
  <ul class="page-breadcrumb col-md-6 col-sm-5 col-xs-12">
    <li>
      <i class="icon-speedometer"></i>
      <a href="/new_job">{% trans "New Job" %}</a>
    </li>
  </ul>
</div>

<div class="clearfix"></div>

<div class="row">
  <div class="col-md-12 col-sm-12">
    <div class="portlet light ">

      <div class="portlet-title">
        <div class="caption">
          <i class="icon-share font-red-sunglo hide"></i>
          <span class="caption-subject font-red-sunglo bold uppercase">{% trans "New Job Form" %}</span>
        </div>
      </div>

      <div class="portlet-body form">
        <form class="horizontal-form" enctype="multipart/form-data" action="#" method="post">
          {% csrf_token %}

          <div class="form-body">

            {% if res %}
              <div class="alert alert-success display-hide" style="display: block;">
                <button data-close="alert" class="close"></button>
                {{ res }}
              </div>
            {% endif %}

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label class="control-label">Name</label>
                  {{ form.name }}
                  {% for error in form.name.errors %}
                    <span class="help-block help-block-error" style="color: #a94442;">{{ error|escape }}</span>
                  {% endfor %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="control-label">Description</label>
                  {{ form.description }}
                  {% for error in form.description.errors %}
                    <span class="help-block help-block-error" style="color: #a94442;">{{ error|escape }}</span>
                  {% endfor %}
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label class="control-label">Frequency</label>
                  {{ form.interval }}
                  {% for error in form.frequency.errors %}
                    <span class="help-block help-block-error" style="color: #a94442;">{{ error|escape }}</span>
                  {% endfor %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="control-label">Interval options</label>
                  {{ form.interval_options }}
                  <span id='interval-options-help' class="help-block"> HH:mm (Hour and minute to execute) </span>
                  {% for error in form.first_execution.errors %}
                    <span class="help-block help-block-error" style="color: #a94442;">{{ error|escape }}</span>
                  {% endfor %}
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label class="control-label">Arguments</label></br>
                  {{ form.arguments }}
                  <span class="help-block"> p1,p2,p3.... </span>
                  {% for error in form.arguments.errors %}
                    <span class="help-block help-block-error" style="color: #a94442;">{{ error|escape }}</span>
                  {% endfor %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="control-label">Active</label></br>
                  {{ form.active }}
                  {% for error in form.active.errors %}
                    <span class="help-block help-block-error" style="color: #a94442;">{{ error|escape }}</span>
                  {% endfor %}
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label class="control-label">File</label></br>
                  {{ form.file }}
                  {% for error in form.file.errors %}
                    <span class="help-block help-block-error" style="color: #a94442;">{{ error|escape }}</span>
                  {% endfor %}
                </div>
              </div>
            </div>

            <div class="form-actions">
              <div class="row">
                <div class="col-md-12">
                  <button type="submit" class="btn green btn-block">Submit</button>
                </div>
              </div>
            </div>

          </div>

        </form>
      </div>

    </div>
  </div>
</div>

{% endblock %}


{% block footer_scripts %}

<script src="{{ STATIC_URL }}core/js/new_job.js" type="text/javascript"></script>

{% endblock %}
